<div *ngIf="cluster">
  <h2>{{ cluster.cluster_name }}</h2>
  <div>
    <table class="table">
      <thead>
      <tr class="bg-clusters-header">
        <th scope="col">Cluster</th>
        <th scope="col">Env</th>
        <th scope="col">DBMS</th>
        <th scope="col">Application</th>
        <th scope="col">Health</th>
        <th scope="col">R/W Port</th>
        <th scope="col">R/O Port</th>
        <th scope="col">TLS</th>
      </tr>
      </thead>
      <tbody>
      <tr class="bg-clusters bg-hover">
        <th>{{ cluster.cluster_name }} {{ cluster.id }}</th>
        <td>{{ cluster.environment }}</td>
        <td>{{ cluster.dbms_type }}</td>
        <td>{{ cluster.application.application_name }}</td>
        <td class="{{ getFgClass(cluster.cluster_health) }}">{{ cluster.cluster_health }}</td>
        <td>{{ cluster.read_write_port.port }}</td>
        <td>{{ cluster.read_only_port.port }}</td>
        <td>{{ cluster.tls_enabled_sw }}</td>
      </tr>
      <tr>
        <td colspan="100%" style="padding-top:2rem;">
          <app-cluster-servers [clusterId]="clusterDtl.clusterId"></app-cluster-servers>
        </td>
      </tr>
      </tbody>
    </table>
    <div class="text-center mw-100">{{ tabSelectedName }} - {{ selectedTabChange }}</div>
    <!--<button [routerLink]="['/clusters',cluster.id,'Metrics']" routerLinkActive="active" class="mat-tab-nav-bar mat-tab-label">Metrics</button>-->
    <!--<button [routerLink]="['/clusters',cluster.id,'Backups']" routerLinkActive="active">Backups</button>-->
    <!--<button [routerLink]="['/clusters',cluster.id,'Restores']" routerLinkActive="active">Restores</button>-->
    <!--<button [routerLink]="['/clusters',cluster.id,'Activities']" routerLinkActive="active">Activities</button>-->
    <!--<button [routerLink]="['/clusters',cluster.id,'Issues']" routerLinkActive="active">Issues</button>-->
    <!--<button [routerLink]="['/clusters',cluster.id,'Contacts']" routerLinkActive="active">Contacts</button>-->
    <!--<button [routerLink]="['/clusters',cluster.id,'Notes']" routerLinkActive="active">Notes</button>-->


    <!--<nav mat-tab-nav-bar>-->
    <!--<a mat-tab-link-->
    <!--*ngFor="let link of links"-->
    <!--[routerLink]="['/clusters', cluster.id, link]"-->
    <!--routerLinkActive #rla="routerLinkActive">-->
    <!--&lt;!&ndash;[active]="activeLink == link">&ndash;&gt;-->
    <!--{{link}}-->
    <!--</a>-->
    <!--</nav>-->

    <div class="panel-body">
      <!--<div class="wizard">-->
      <!--<a [routerLink]="['/clusters', clusterDtl.clusterId, 'metrics']">Metrics</a><br>-->
      <!--<a [routerLink]="['/clusters', clusterDtl.clusterId, 'incidents']">incidents</a><br>-->
      <!--<a [routerLink]="['/clusters', clusterDtl.clusterId, 'backups']">Backups</a><br>-->
      <!--</div>-->
      <!--</div>-->

      <!--<mat-tab-group #tabs>-->
      <!--<mat-tab label="Metrics" (click)="console.log('==============================')">Metrics</mat-tab>-->
      <!--<mat-tab label="Incidents" (select)="console.log('CHANGES================')">Incidents</mat-tab>-->
      <!--<mat-tab label="Backups" (selectedTabChange)="goToLink('/clusters' + clusterDtl.clusterId + 'backups')">Backups</mat-tab>-->
      <!--<mat-tab label="Restores" (selectedIndexChange)="console.log('CHANGES================')">Restores</mat-tab>-->
      <!--</mat-tab-group>-->

      <nav mat-tab-nav-bar #tabs style="margin-bottom: .75rem">
        <a mat-tab-link [routerLink]="['/clusters', clusterDtl.clusterId, 'metrics']" routerLinkActive #metrics="routerLinkActive" [active]="metrics.isActive">Metrics</a>
        <a mat-tab-link [routerLink]="['/clusters', clusterDtl.clusterId, 'backups']" routerLinkActive #backups="routerLinkActive" [active]="backups.isActive">Backups</a>
        <a mat-tab-link [routerLink]="['/clusters', clusterDtl.clusterId, 'restores']" routerLinkActive #restores="routerLinkActive" [active]="restores.isActive">Restores</a>
        <a mat-tab-link [routerLink]="['/clusters', clusterDtl.clusterId, 'activities']" routerLinkActive #activities="routerLinkActive"
           [active]="activities.isActive">Activities</a>
        <a mat-tab-link [routerLink]="['/clusters', clusterDtl.clusterId, 'incidents']" routerLinkActive #incidents="routerLinkActive" [active]="incidents.isActive">Incidents</a>
        <a mat-tab-link [routerLink]="['/clusters', clusterDtl.clusterId, 'contacts']" routerLinkActive #contacts="routerLinkActive" [active]="contacts.isActive">Contacts</a>
        <a mat-tab-link [routerLink]="['/clusters', clusterDtl.clusterId, 'notes']" routerLinkActive #notes="routerLinkActive" [active]="notes.isActive">Notes</a>
      </nav>

      <div class="wizard tab-content">
        <div class="d-table w-100" *ngIf="clusterDtl.tab === 'metrics'">
          <div class="d-table-row">
            <div class="d-table-cell" *ngFor="let s of servers">
              <mat-chip-list>
                <mat-chip class="theme-blue" aria-setsize="1rem" selected style="margin:8px;">
                  {{ s.server_name }}
                </mat-chip>
              </mat-chip-list>
              <app-server-metrics [serverId]="s.id"></app-server-metrics>
            </div>
          </div>
        </div>

        <app-cluster-backups [clusterId]="cluster.id" *ngIf="clusterDtl.tab === 'backups'"></app-cluster-backups>

        <app-cluster-restores [clusterId]="clusterDtl.clusterId" *ngIf="clusterDtl.tab === 'restores'"></app-cluster-restores>

        <div class="d-table w-100" *ngIf="clusterDtl.tab === 'activities'">
          <div class="d-table-row">
            <div class="d-table-cell" *ngFor="let s of servers">
              <mat-chip-list>
                <mat-chip class="theme-blue" aria-setsize="1rem" selected style="margin:8px;">
                  {{ s.server_name }}
                </mat-chip>
              </mat-chip-list>
              <app-server-activities [serverId]="s.id"></app-server-activities>
            </div>
          </div>
        </div>

        <div class="d-table w-100" *ngIf="clusterDtl.tab === 'incidents'">
          <div class="d-table-row">
            <div class="d-table-cell" *ngFor="let s of servers">
              <mat-chip-list>
                <mat-chip class="theme-blue" aria-setsize="1rem" selected style="margin:8px;">
                  {{ s.server_name }}
                </mat-chip>
              </mat-chip-list>
              <app-server-incidents [serverId]="s.id"></app-server-incidents>
            </div>
          </div>
        </div>

        <app-application-contacts [applicationId]="cluster.application.id" *ngIf="clusterDtl.tab === 'contacts'"></app-application-contacts>

        <app-cluster-notes [clusterId]="cluster.id" *ngIf="clusterDtl.tab === 'notes'"></app-cluster-notes>
      </div>
    </div>
    <!--<router-outlet></router-outlet>-->

    <!--<app-cluster-tabs [clusterDtl]="clusterDtl"></app-cluster-tabs>-->

  </div>
</div>
